<script>
const name = "Wafa";

const steps = [
  `Ce site n‚Äôest pas une demande de Valentine.`,
  `Il n‚Äôy a rien √† voir ici, ${name}.`,
  `Hm‚Ä¶ pourquoi es-tu encore l√† ?`,
  `Je t‚Äôai pourtant demand√© de fermer cette page.`,
  `Bon. Reste si tu veux.`,
  `Mais ne t‚Äôattends √† rien.`,
  `Surtout‚Ä¶ ne clique pas sur le bouton.`,
  `‚Ä¶`,
  `Ok. J‚Äôabandonne compl√®tement.`
];

let step = 0;
const textEl = document.getElementById("text");
const btn = document.getElementById("btn");

function typeText(text, callback) {
  textEl.textContent = "";
  let i = 0;
  const interval = setInterval(() => {
    textEl.textContent += text[i];
    i++;
    if (i >= text.length) {
      clearInterval(interval);
      if (callback) callback();
    }
  }, 35);
}

function next() {
  if (step < steps.length) {
    typeText(steps[step]);
    step++;

    if (step === 2) btn.textContent = "Je suis toujours l√†";
    if (step === 4) btn.textContent = "Ok‚Ä¶";
    if (step === 6) btn.textContent = "Cliquer quand m√™me";
    if (step === 8) {
      btn.style.display = "none";
      setTimeout(showFinal, 800);
    }
  }
}

function showFinal() {
  textEl.style.fontSize = "1.5rem";
  textEl.style.fontWeight = "600";
  typeText(
    `Ok‚Ä¶ tu as gagn√© üíñ\nVeux-tu √™tre ma Valentine, mon amour ?`,
    startHearts
  );
}

function startHearts() {
  const hearts = document.getElementById("hearts");
  hearts.style.display = "block";

  setInterval(() => {
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = "üíñ";
    h.style.left = Math.random() * 100 + "vw";
    h.style.fontSize = 18 + Math.random() * 22 + "px";
    hearts.appendChild(h);
    setTimeout(() => h.remove(), 3000);
  }, 250);
}

// d√©marrage
typeText(steps[0]);
</script>

